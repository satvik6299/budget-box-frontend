{"ast":null,"code":"import API, { LOGIN_USER_KEY } from \"../../API\";\nimport { signUpAction, signUpError, signInAction, signInError, updateProfileAction, updateProfileError, updateBudgetAction } from \"./actions\";\nconst api = new API();\nexport const fetchUserFromLocalStorage = () => {\n  return async dispatch => {\n    const userJSON = localStorage.getItem(LOGIN_USER_KEY);\n    if (userJSON && userJSON.token !== \"\") {\n      dispatch(signInAction(JSON.parse(userJSON)));\n    }\n  };\n};\nexport const signUp = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return async dispatch => {\n    return api.signUp(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signUpAction(response));\n    }).catch(error => {\n      dispatch(signUpError(error.response.data));\n    });\n  };\n};\nexport const updateProfile = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let id = arguments.length > 1 ? arguments[1] : undefined;\n  return async dispatch => {\n    return api.updateProfile(data, id).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(updateProfileAction(response));\n    }).catch(error => {\n      dispatch(updateProfileError(error.response.data));\n    });\n  };\n};\nexport const updateBudget = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let id = arguments.length > 1 ? arguments[1] : undefined;\n  return async dispatch => {\n    return api.updateBudget(data, id).then(response => {\n      dispatch(updateBudgetAction(response));\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n};\nexport const signIn = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let onSuccess = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return async dispatch => {\n    return api.signIn(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signInAction(response));\n      onSuccess();\n    }).catch(error => {\n      dispatch(signInError(error.response.data));\n    });\n  };\n};","map":{"version":3,"names":["API","LOGIN_USER_KEY","signUpAction","signUpError","signInAction","signInError","updateProfileAction","updateProfileError","updateBudgetAction","api","fetchUserFromLocalStorage","dispatch","userJSON","localStorage","getItem","token","JSON","parse","signUp","data","arguments","length","undefined","then","response","setItem","stringify","catch","error","updateProfile","id","updateBudget","console","signIn","onSuccess"],"sources":["/Users/techi.s./Desktop/Budget-Box-main/frontend/src/reducks/users/operations.js"],"sourcesContent":["import API, { LOGIN_USER_KEY } from \"../../API\";\nimport {\n\tsignUpAction,\n\tsignUpError,\n\tsignInAction,\n\tsignInError,\n\tupdateProfileAction,\n\tupdateProfileError,\n\tupdateBudgetAction,\n} from \"./actions\";\n\nconst api = new API();\n\nexport const fetchUserFromLocalStorage = () => {\n\treturn async (dispatch) => {\n\t\tconst userJSON = localStorage.getItem(LOGIN_USER_KEY);\n\t\tif (userJSON && userJSON.token !== \"\") {\n\t\t\tdispatch(signInAction(JSON.parse(userJSON)));\n\t\t}\n\t};\n};\n\nexport const signUp = (data = {}) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.signUp(data)\n\t\t\t.then((response) => {\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n\t\t\t\tdispatch(signUpAction(response));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(signUpError(error.response.data));\n\t\t\t});\n\t};\n};\n\nexport const updateProfile = (data = {}, id) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.updateProfile(data, id)\n\t\t\t.then((response) => {\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\tLOGIN_USER_KEY,\n\t\t\t\t\tJSON.stringify(response)\n\t\t\t\t);\n\t\t\t\tdispatch(updateProfileAction(response));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(updateProfileError(error.response.data));\n\t\t\t});\n\t};\n};\n\nexport const updateBudget = (data = {}, id) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.updateBudget(data, id)\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(updateBudgetAction(response));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error)\n\t\t\t});\n\t};\n};\n\nexport const signIn = (data = {}, onSuccess = null) => {\n\treturn async (dispatch) => {\n\t\treturn api\n\t\t\t.signIn(data)\n\t\t\t.then((response) => {\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n\t\t\t\tdispatch(signInAction(response));\n\t\t\t\tonSuccess();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(signInError(error.response.data));\n\t\t\t});\n\t};\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}